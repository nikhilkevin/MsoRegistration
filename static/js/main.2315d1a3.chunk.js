(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,a,t){e.exports=t.p+"static/media/main_logo_left.dd08f33a.png"},112:function(e,a,t){e.exports=t(181)},117:function(e,a,t){},181:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(49),i=t.n(o),l=t(239),c=t(11),m=t(261),s=t(105),u=t.n(s),d=(t(117),t(33)),p=t(258),f=t(260),g=t(259),E=t(237),b=t(257),h=t(238),v=t(256),x=t(106),y=t.n(x),N=t(108),C=t.n(N),w=t(107),j=t.n(w),O=t(139),T=t.n(O),M=t(144),S=t.n(M),R=t(140),F=t.n(R),A=t(141),k=t.n(A),B=t(142),I=t.n(B),D=t(143),z=t.n(D),P=t(4),W=t(30),q=t(242),L=t(234),Q=t(241),H=t(268),V=t(244),J=t(243),K=t(247),X=t(266),_=t(267),G=t(264),U=t(28),$=t(251),Y=t(137),Z=t.n(Y),ee=t(138),ae=t.n(ee);function te(){return r.a.createElement(V.a,{variant:"outlined",severity:"warning",sx:{m:1}},r.a.createElement(b.a,{variant:"body2"},"We have been unable to find a company on the FCA register matching the FCA number entered."),r.a.createElement(b.a,{variant:"body2"},"The information we hold is updated each Monday, with changes made with the FCA up to the previous Thursday."),r.a.createElement(b.a,{variant:"body2"},"If you believe the details you have entered are correct and you\u2019re registering in line with the above timescales, please contact the FCA."))}function ne(){return r.a.createElement(V.a,{variant:"outlined",severity:"info",sx:{m:1}},r.a.createElement(b.a,{variant:"body2"},"If you\u2019re registering with Nationwide, your details must match with your MTE registration. If these details are different, you will be unable to login to NFI Online."),r.a.createElement(b.a,{variant:"body2"},"Please check and confirm before proceeding."))}function re(){return r.a.createElement(V.a,{variant:"outlined",severity:"info",sx:{m:1}},r.a.createElement(b.a,{variant:"body2"},"By clicking \u2018Agree & Continue\u2019, you confirm you have read and agree to the registration declaration."))}var oe=t(126),ie=t.n(oe),le=t(127),ce=t(46),me=t(47),se=function(){function e(){Object(ce.a)(this,e)}return Object(me.a)(e,[{key:"SetBody",value:function(e){return"undefined"!==typeof window?{method:"POST",mode:"cors",headers:new Headers({Accept:"application/json","Content-Type":"application/json",ApiKey:"hL4bA4nB4yI0vI0fC8fH7eT6"}),body:JSON.stringify(e)}:{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",ApiKey:"hL4bA4nB4yI0vI0fC8fH7eT6"}}}}]),e}(),ue=Object.freeze(new se),de=("undefined"!==typeof window&&new Headers({Accept:"application/json","Content-Type":"application/json",ApiKey:"hL4bA4nB4yI0vI0fC8fH7eT6"}),"https://msoregistration.herokuapp.com/api/"),pe="v1",fe=function(){function e(){Object(ce.a)(this,e)}return Object(me.a)(e,[{key:"post",value:function(){var e=Object(le.a)(ie.a.mark(function e(a,t){var n,r,o,i;return ie.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue.SetBody(a),r=Object.assign({},n,{method:"POST"}),o=de+pe+t,console.log(o),e.next=6,fetch(o,r);case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}()}]),e}(),ge=Object.freeze(new fe),Ee=t(248),be=t(12);var he=function(e){var a=e.NavigateToNext,t=a.FormState,n=a.setFormDataState,o=function(e){n(function(a){var n;return Object(W.a)({},t,a,(n={},Object(P.a)(n,e.target.name,e.target.value),Object(P.a)(n,"errorMessage",Object(W.a)({},a.errorMessage,Object(P.a)({},e.target.name,""))),n))})},i=Object(U.useMediaQuery)({query:"(max-width: 760px)"}),l=r.a.useState(!0),m=Object(c.a)(l,2),s=m[0],u=m[1],d=r.a.useState(!0),f=Object(c.a)(d,2),g=f[0],E=f[1],h=r.a.useState(!1),v=Object(c.a)(h,2),x=v[0],y=v[1],N=r.a.useState(!1),C=Object(c.a)(N,2),w=C[0],j=C[1],O=Object(be.useNavigate)();return r.a.createElement("div",null,r.a.createElement(p.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:i?"28ch":"35ch"},display:"flex-box"},noValidate:!0,autoComplete:"off"},r.a.createElement($.a,{container:!0,spacing:1,columns:12},r.a.createElement($.a,{columns:12,container:!0},r.a.createElement(b.a,{sx:{m:1},variant:"h5"},"Registration Details ")),r.a.createElement($.a,{container:!0,columns:12,display:s?"none":"block"},r.a.createElement(te,null)),r.a.createElement($.a,{container:!0,columns:12,display:"block"},r.a.createElement(ne,null)),r.a.createElement($.a,{columns:12,container:!0},r.a.createElement($.a,{columns:12,container:!0,sx:{mx:"auto",bgcolor:"primary.light",color:"#fff",m:1,borderRadius:1}},r.a.createElement(b.a,{sx:{m:1}},"Personal Details")),r.a.createElement($.a,{columns:12,container:!0},r.a.createElement($.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(G.a,{sx:{m:1,minWidth:i?"28ch":"35ch"},error:""!==t.errorMessage.Title},r.a.createElement(K.a,{id:"demo-simple-select-helper-label"},"Title"),r.a.createElement(J.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:t.Title,label:"Title",onChange:o,size:"small",name:"Title"},r.a.createElement(X.a,{value:""},r.a.createElement("em",null,"Select...")),r.a.createElement(X.a,{value:"Miss"},"Miss"),r.a.createElement(X.a,{value:"Mr"},"Mr"),r.a.createElement(X.a,{value:"Mrs"},"Mrs"),r.a.createElement(X.a,{value:"Ms"},"Ms"),r.a.createElement(X.a,{value:"Dr"},"Dr"),r.a.createElement(X.a,{value:"Sir"},"Sir")),r.a.createElement(_.a,null,t.errorMessage.Title))),r.a.createElement($.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(H.a,{label:"First Name",onChange:o,type:"text",name:"firstName",value:t.firstName,error:""!==t.errorMessage.firstName,helperText:t.errorMessage.firstName,size:"small"})),r.a.createElement($.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(H.a,{label:"Surname",onChange:o,type:"text",name:"Surname",value:t.Surname,error:""!==t.errorMessage.Surname,helperText:t.errorMessage.Surname,size:"small"})),r.a.createElement($.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(G.a,{error:""!==t.errorMessage.date},r.a.createElement(L.b,{dateAdapter:q.a},r.a.createElement(Q.a,{size:"small",label:"Date of birth",value:t.date,onChange:function(e){n(Object(W.a)({},t,{date:e}))},name:"date",error:""!==t.errorMessage.date,renderInput:function(e){return r.a.createElement(H.a,Object.assign({onChange:o,error:""!==t.errorMessage.date},e,{sx:{mb:4},size:"small",name:"date"}))}})),r.a.createElement(_.a,null,t.errorMessage.date))),r.a.createElement($.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(G.a,{sx:{m:1,minWidth:i?"28ch":"35ch"},error:""!==t.errorMessage.Role},r.a.createElement(K.a,{id:"demo-simple-select-helper-label"},"Role"),r.a.createElement(J.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:t.Role,label:"Role",onChange:o,size:"small",name:"Role"},r.a.createElement(X.a,{value:""},r.a.createElement("em",null,"Select...")),r.a.createElement(X.a,{value:"S"},"Intermediary"),r.a.createElement(X.a,{value:"A"},"Administrator"),r.a.createElement(X.a,{value:"SU"},"Supervisor")),r.a.createElement(_.a,null,t.errorMessage.Role))),r.a.createElement($.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(G.a,{sx:{m:1,minWidth:i?"28ch":"35ch"},error:""!==t.errorMessage.Brand},r.a.createElement(K.a,{id:"demo-simple-select-helper-label"},"Which brand(s) are you registering for?"),r.a.createElement(J.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:t.Brand,label:"Which brand(s) are you registering for?",onChange:o,size:"small",name:"Brand"},r.a.createElement(X.a,{value:""},r.a.createElement("em",null,"Select...")),r.a.createElement(X.a,{value:"NBS"},"Nationwide"),r.a.createElement(X.a,{value:"TMW"},"The Mortgage Works"),r.a.createElement(X.a,{value:"BOTH"},"Both")),r.a.createElement(_.a,null,t.errorMessage.Brand)))),r.a.createElement($.a,{columns:12,container:!0},r.a.createElement($.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(V.a,{variant:"outlined",severity:"info",sx:{border:"none",padding:0,margin:1}},"If you\u2019re already registered with Nationwide or The Mortgage Works and would like to register for a second brand, select \u2018Both\u2019."))),r.a.createElement($.a,{columns:12,container:!0,sx:{mx:"auto",bgcolor:"primary.light",color:"#fff",m:1,borderRadius:1}},r.a.createElement(b.a,{sx:{m:1}},"Company Details")),r.a.createElement($.a,{columns:12,container:!0},r.a.createElement($.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(V.a,{variant:"outlined",severity:"info",sx:{border:"none",padding:0,margin:1}},"Please enter your company FCA number and select \u2018Search\u2019 to retrieve details from the FCA register."))),r.a.createElement($.a,{columns:12,container:!0},r.a.createElement($.a,{item:!0,xs:12,sm:12,md:6,lg:4},r.a.createElement(H.a,{label:"Company FCA number",onChange:o,type:"text",name:"CompanyFCAnumber",value:t.CompanyFCAnumber,error:""!==t.errorMessage.CompanyFCAnumber,helperText:t.errorMessage.CompanyFCAnumber,size:"small"})),r.a.createElement($.a,{item:!0,xs:12,sm:12,md:6,lg:8},r.a.createElement(Ee.a,{startIcon:r.a.createElement(Z.a,null),sx:{m:1},variant:"contained",loading:x,loadingPosition:"start",disabled:""===t.CompanyFCAnumber,color:"success",size:"medium",onClick:function(e){y(!0),console.log(t.CompanyFCAnumber),ge.post(t.CompanyFCAnumber,"/validatefca").then(function(e){e.ok?(u(!0),E(!1),console.log("Enable and redirect to, next menu"),y(!1)):(u(!1),E(!0),y(!1))}).catch(function(e){console.error(e),u(!1),y(!1)})}},"Search"))),r.a.createElement($.a,{columns:12,container:!0,sx:{mx:"auto",bgcolor:"primary.light",color:"#fff",m:1,borderRadius:1}},r.a.createElement(b.a,{sx:{m:1}},"Declaration")),r.a.createElement($.a,{columns:12,container:!0,display:"block"},r.a.createElement(re,null)),r.a.createElement($.a,{columns:12,container:!0},r.a.createElement($.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(Ee.a,{startIcon:r.a.createElement(ae.a,null),sx:{m:1},variant:"contained",disabled:g,loading:w,loadingPosition:"start",color:"success",onClick:function(e){!function(e){Object.entries(t).map(function(a){var t=Object(c.a)(a,2),r=t[0],o=t[1];return r===e.target.name&&null!==e.target.value&&""!==e.target.value||""!==o&&null!==o?n(function(e){return Object(W.a)({},e,{error:!1,errorMessage:Object(W.a)({},e.errorMessage,Object(P.a)({},r,""))})}):n(function(e){return Object(W.a)({},e,{error:!0,errorMessage:Object(W.a)({},e.errorMessage,Object(P.a)({},r,"enter correct "+r))})})})}(e),t.error||(j(!0),ge.post({title:{value:t.Title,caption:t.TitleCaption},firstname:t.firstName,surname:t.Surname,dateOfBirth:t.date,role:{value:t.Role,caption:t.RoleCaption},brand:{value:t.Brand,caption:t.BrandCaption},fcaNumber:t.CompanyFCAnumber},"/register").then(function(e){e.ok&&(console.log("Enable and redirect to, next menu"),a.NavigateToNext(je.RouteNumber),O(je.RouteName)),j(!1)}).catch(function(e){console.error(e),j(!1)}))}},"Agree & Continue"),r.a.createElement(Ee.a,{onClick:function(){a.NavigateToNext(je.RouteNumber),O(je.RouteName)}},"Test Next Button")))))))},ve=function(e){var a=e.NavigateToNext,t=Object(be.useNavigate)(),n=Object(U.useMediaQuery)({query:"(max-width: 760px)"});return r.a.createElement("div",null,r.a.createElement(p.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:n?"28ch":"35ch"},display:"flex-box"},noValidate:!0,autoComplete:"off"},r.a.createElement($.a,{container:!0,spacing:1,columns:12},r.a.createElement($.a,{columns:12,container:!0},r.a.createElement(b.a,{sx:{m:1},variant:"h5"},"Company Details "))),r.a.createElement(Ee.a,{onClick:function(){a.NavigateToNext(Oe.RouteNumber),t(Oe.RouteName)}},"Test Next Button")))},xe=function(e){var a=e.NavigateToNext,t=Object(be.useNavigate)(),n=Object(U.useMediaQuery)({query:"(max-width: 760px)"});return r.a.createElement("div",null,r.a.createElement(p.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:n?"28ch":"35ch"},display:"flex-box"},noValidate:!0,autoComplete:"off"},r.a.createElement($.a,{container:!0,spacing:1,columns:12},r.a.createElement($.a,{columns:12,container:!0},r.a.createElement(b.a,{sx:{m:1},variant:"h5"},"Address Details"))),r.a.createElement(Ee.a,{onClick:function(){a.NavigateToNext(Te.RouteNumber),t(Te.RouteName)}},"Test Next Button")))},ye=function(e){var a=e.NavigateToNext,t=Object(be.useNavigate)(),n=Object(U.useMediaQuery)({query:"(max-width: 760px)"});return r.a.createElement("div",null,r.a.createElement(p.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:n?"28ch":"35ch"},display:"flex-box"},noValidate:!0,autoComplete:"off"},r.a.createElement($.a,{container:!0,spacing:1,columns:12},r.a.createElement($.a,{columns:12,container:!0},r.a.createElement(b.a,{sx:{m:1},variant:"h5"},"Submission Route(s) "))),r.a.createElement(Ee.a,{onClick:function(){a.NavigateToNext(Se.RouteNumber),t(Se.RouteName)}},"Test Next Button")))},Ne=function(e){var a=e.NavigateToNext,t=Object(be.useNavigate)(),n=Object(U.useMediaQuery)({query:"(max-width: 760px)"});return r.a.createElement("div",null,r.a.createElement(p.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:n?"28ch":"35ch"},display:"flex-box"},noValidate:!0,autoComplete:"off"},r.a.createElement($.a,{container:!0,spacing:1,columns:12},r.a.createElement($.a,{columns:12,container:!0},r.a.createElement(b.a,{sx:{m:1},variant:"h5"},"Contact Details "))),r.a.createElement(Ee.a,{onClick:function(){a.NavigateToNext(Me.RouteNumber),t(Me.RouteName)}},"Test Next Button")))},Ce=function(){var e=Object(U.useMediaQuery)({query:"(max-width: 760px)"});return r.a.createElement("div",null,r.a.createElement(p.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:e?"28ch":"35ch"},display:"flex-box"},noValidate:!0,autoComplete:"off"},r.a.createElement($.a,{container:!0,spacing:1,columns:12},r.a.createElement($.a,{columns:12,container:!0},r.a.createElement(b.a,{sx:{m:1},variant:"h5"},"Confirmation")))))};var we=function(e){return{menuitem:[{menucaption:"Registration Details",menupath:"/registrationdetails",icon:n.createElement(T.a,{color:"primary"}),routedata:n.createElement(he,{NavigateToNext:e}),disabled:!1,selected:!0},{menucaption:"Company Name",menupath:"/companyname",icon:n.createElement(F.a,{color:"primary"}),routedata:n.createElement(ve,{NavigateToNext:e}),disabled:!0,selected:!1},{menucaption:"Address Details",menupath:"/addressdetails",icon:n.createElement(k.a,{color:"primary"}),routedata:n.createElement(xe,{NavigateToNext:e}),disabled:!0,selected:!1},{menucaption:"Contact Details",menupath:"/contactdetails",icon:n.createElement(I.a,{color:"primary"}),routedata:n.createElement(Ne,{NavigateToNext:e}),disabled:!0,selected:!1},{menucaption:"Submission Route(s)",menupath:"/submissionroute",icon:n.createElement(z.a,{color:"primary"}),routedata:n.createElement(ye,{NavigateToNext:e}),disabled:!0,selected:!1},{menucaption:"Confirmation",menupath:"/confirmation",icon:n.createElement(S.a,{color:"primary"}),routedata:n.createElement(Ce,{NavigateToNext:e}),disabled:!0,selected:!1}]}},je={RouteName:"/companyname",RouteNumber:1},Oe={RouteName:"/addressdetails",RouteNumber:2},Te={RouteName:"/contactdetails",RouteNumber:3},Me={RouteName:"/submissionroute",RouteNumber:4},Se={RouteName:"/confirmation",RouteNumber:5},Re=t(9),Fe=t(263),Ae=t(145),ke=t(235),Be=t(236),Ie=t(250),De=t(262),ze=t(44);function Pe(e){var a=e.children;return"undefined"===typeof window?n.createElement(Ae.a,{location:"/registrationdetails"},a):n.createElement(be.MemoryRouter,{initialEntries:["/registrationdetails"],initialIndex:0},a)}var We=function(e){return{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},qe=function(e){return Object(P.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(9)," + 1px)")})},Le=Object(Re.a)("div")(function(e){var a=e.theme;return Object(W.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:a.spacing(0,1)},a.mixins.toolbar)}),Qe=Object(Re.a)(De.a,{shouldForwardProp:function(e){return"open"!==e}})(function(e){var a=e.theme;e.open;return{zIndex:a.zIndex.drawer+1,transition:a.transitions.create(["width","margin"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration.leavingScreen})}}),He=Object(Re.a)(Ie.a,{shouldForwardProp:function(e){return"open"!==e}})(function(e){var a=e.theme,t=e.open;return Object(W.a)({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},t&&Object(W.a)({},We(a),{"& .MuiDrawer-paper":We(a)}),!t&&Object(W.a)({},qe(a),{"& .MuiDrawer-paper":qe(a)}))});function Ve(e){var a=e.icon,t=e.primary,r=e.to,o=e.onclick,i=e.Selected,l=e.Disabled,c=n.useMemo(function(){return n.forwardRef(function(e,a){return n.createElement(ze.a,Object.assign({to:r,ref:a},e,{role:void 0,onClick:o,selected:i,disabled:l}))})},[r]);return n.createElement("li",null,n.createElement(Fe.a,{component:c,onClick:o,selected:i,disabled:l},a?n.createElement(ke.a,null,a):null,n.createElement(Be.a,{primary:t})))}function Je(e){var a=Object(be.useLocation)();return we(e).menuitem.find(function(e){return e.menupath===a.pathname}).routedata}var Ke={errorMessage:{firstName:"",Surname:"",date:"",Title:"",Role:"",Brand:"",CompanyFCAnumber:""},error:!0,activeStep:0,firstName:"",Surname:"",date:null,Title:"",Role:"",Brand:"",CompanyFCAnumber:""};function Xe(){var e=Object(d.a)(),a=Object(U.useMediaQuery)({query:"(max-width: 760px)"}),t=r.a.useState(!a),o=Object(c.a)(t,2),i=o[0],l=o[1],s=r.a.useState(0),x=Object(c.a)(s,2),N=x[0],w=x[1],O=r.a.useState(0),T=Object(c.a)(O,2),M=T[0],S=T[1];function R(e){S(e),w(N>=e?N:e)}var F=Object(n.useState)(Ke),A=Object(c.a)(F,2),k=A[0],B=A[1];return r.a.createElement(p.a,{sx:{display:"flex"}},r.a.createElement(Pe,null,r.a.createElement(E.a,null),r.a.createElement(Qe,{position:"fixed",open:i},r.a.createElement(f.a,null,r.a.createElement(v.a,{color:"inherit","aria-label":"open drawer",onClick:function(){l(!i)},edge:"start"},r.a.createElement(y.a,null)),r.a.createElement("img",{alt:"Nationwide Logo",src:u.a,className:"App-logo"}),r.a.createElement(b.a,{variant:"h6",noWrap:!0,component:"div"},r.a.createElement(m.a,{underline:"none",color:"inherit",className:"App-name",href:"#"}," MSO Registration")))),r.a.createElement(He,{variant:"permanent",open:i},r.a.createElement(Le,null,r.a.createElement(v.a,{onClick:function(){l(!i)}},"rtl"===e.direction?r.a.createElement(j.a,null):r.a.createElement(C.a,null))),r.a.createElement(h.a,null),r.a.createElement(g.a,null,we(R).menuitem.map(function(e,a){return r.a.createElement(Ve,{to:e.menupath,primary:e.menucaption,icon:e.icon,key:e.menucaption,onclick:function(e){return function(e){S(e)}(a)},Selected:M===a,Disabled:!(a===N||a<N)})}))),r.a.createElement(p.a,{component:"main",sx:{flexGrow:1,p:3}},r.a.createElement(Le,null),r.a.createElement(be.Routes,null,r.a.createElement(be.Route,{path:"*",element:r.a.createElement(Je,{NavigateToNext:R,FormState:k,setFormDataState:B})})))))}var _e=function(e){e&&e instanceof Function&&t.e(1).then(t.bind(null,240)).then(function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,o=a.getLCP,i=a.getTTFB;t(e),n(e),r(e),o(e),i(e)})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.createElement(l.a,{injectFirst:!0},n.createElement(Xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)}),_e()}},[[112,3,2]]]);
//# sourceMappingURL=main.2315d1a3.chunk.js.map